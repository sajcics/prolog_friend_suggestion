friends('anica','martina').
friends('anica','dario').
friends('anica','zlatko').
friends('anica','vanja').
friends('martina','goran').
friends('martina','snjezana').
friends('martina','dorotea').
friends('dario','daliborka').
friends('dario','silvia').
friends('zlatko','natasa').
friends('vanja','marko').
friends('vanja','roberto').
friends('vanja','melita').
friends('vanja', 'anica').
friends('martina', 'vanja').

connection(X,Y) :- friends(X,Y).
connection(X,Y) :- friends(Y, X).

not_member(_, []).
not_member(X, [Head|Tail]) :-
    not_member(X, Tail),
    X \= Head.
      

check([], []).
check([G|T], Prijatelji) :-
      check(T, Prijatelji2),
      (   not_member(G, Prijatelji2) ->  
      		append(Prijatelji2, [G], Prijatelji3),
      		Prijatelji = Prijatelji3
      ).

all_friends(X, List) :- setof(_Y, connection(X,_Y), L), check(L, List2), List = List2.
